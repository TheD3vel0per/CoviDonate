(this.webpackJsonprookiehacks2020=this.webpackJsonprookiehacks2020||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),l=a.n(r),c=(a(76),a(6)),i=a(13),s=a(10),m=a.n(s),u=a(21),d=a(16),p=a(28),g=a(20),h=a(18),f=a(113),E=a(119),y=a(54),v=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={projects:y},e.sort_cards=function(t){var a=t.target.value,n=e.state.projects.concat();switch(a){case"prog-abs":n.sort((function(e,t){return e.finance.donationGoals-e.finance.donatedSoFar-(t.finance.donationGoals-t.finance.donatedSoFar)}));break;case"prog-rel":n.sort((function(e,t){return t.finance.donatedSoFar/t.finance.donationGoals-e.finance.donatedSoFar/e.finance.donationGoals}));break;case"fnd-goal":n.sort((function(e,t){return t.finance.donationGoals-e.finance.donationGoals}));break;case"tot-fnds":n.sort((function(e,t){return t.finance.donatedSoFar-e.finance.donationGoals}));default:console.log("Selected invalid algorithm!!")}e.setState({projects:n}),console.log(n)},e}return Object(p.a)(a,[{key:"load",value:function(){var e=this;console.log("homepage load!"),fetch("/api/projects").then(function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:t.sent,e.setState((function(e){return{projects:e}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){}))}},{key:"handleButtonClick",value:function(){this.render()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onLoad:this.load},o.a.createElement(f.a,{fluid:!0},o.a.createElement("div",null,o.a.createElement("select",{id:"sort_alg_selecter",style:{marginRight:"2em"},onChange:this.sort_cards},o.a.createElement("option",{selected:!0,disabled:!0},"Select Sorting Method"),o.a.createElement("option",{value:"prog-rel"}," Progress (Percent)"),o.a.createElement("option",{value:"prog-abs"}," Progress ($ From Goal)"),o.a.createElement("option",{value:"fnd-goal"}," Fundraising Goal"),o.a.createElement("option",{value:"tot-fnds"}," Total Funds Raised "),o.a.createElement("option",{disabled:!0},"Project Age"),o.a.createElement("option",{disabled:!0},"Remaining Project Time"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"row"},this.state.projects.map((function(e){return o.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 col-xl-2 pb-2"},o.a.createElement(E.a,{className:"border-info"},o.a.createElement(E.a.Img,{variant:"top",src:"/images/people-in-water.jpg",alt:"Generic placeholder in case pic fails to load"}),o.a.createElement(E.a.Body,null,o.a.createElement(E.a.Title,null,e.title),o.a.createElement(E.a.Text,null,e.shortDescription),o.a.createElement(i.b,{to:"/project/"+e._id,className:"button"},"Go somewhere"))))}))))))}}]),a}(o.a.Component),b=a(27),_=a(57),S=a(47),w=a(40),j=a(114),D=a(115),k=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={index:0,recommended:[],project:{_id:"",title:"",shortDescription:"",longDescription:"",image:"",companyName:"",companyUrl:"",finance:{donatedSoFar:"",donationGoals:""},tags:[]}},n.handleSelect=function(e,t){n.setState({index:e})},n.loadProject=function(){console.log(n.props),fetch("/api/project/").then(function(){var e=Object(u.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n.setState({project:a}),n.loadRecommended(a.tags);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n.setState({project:{id:"100",title:"COVID Masks",shortDescription:"Project to fund 3D printing of masks",longDescription:" Every since the dawn of time, man has worn masks to keep safe from rude people who cough everywhere and protest lockdown. In our project.... GIVE US MONEY!!!!!  Congue eu consequat ac felis donec et odio. Ac auctor augue mauris augue neque gravida in. Consequat semper viverra nam libero justo laoreet. Proin fermentum leo vel orci. Mattis rhoncus urna neque viverra justo nec ultrices. Nibh tellus molestie nunc non blandit massa enim. Libero nunc consequat interdum varius sit amet. Quam adipiscing vitae proin sagittis nisl rhoncus. Euismod lacinia at quis risus sed vulputate. Proin fermentum leo vel orci porta non pulvinar neque laoreet. Sed id semper risus in. Eget dolor morbi non arcu risus quis varius. Facilisis sed odio morbi quis commodo odio aenean sed adipiscing.",image:"",companyName:"Masks R Us",companyUrl:"https://loremipsum.io/",finance:{donatedSoFar:"10",donationGoals:"100"},tags:["keywords"]}})}))},n.loadRecommended=function(e){fetch("/api/projects/recommended",{headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:e})}).then(function(){var e=Object(u.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n.setState({recommended:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(console.log)},n.load=function(){n.loadProject()},n.render=function(){var e,t,a=100*n.state.project.finance.donatedSoFar/n.state.project.finance.donationGoals;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"text-center p-5",id:"wrapper",onLoad:n.load},o.a.createElement(E.a,{style:{width:"100%"}},o.a.createElement(E.a.Img,{variant:"top",src:"/images/people-in-water.jpg",alt:"Generic placeholder in case pic fails to load",style:{maxHeight:"500px",objectFit:"cover"}}),o.a.createElement(E.a.Body,null,o.a.createElement(E.a.Title,{id:"title",style:(e={textShadow:"0px 1px 3px #454545"},Object(b.a)(e,"textShadow","0px 3px 7px #454545"),Object(b.a)(e,"textShadow","0px 5px 10px #e0e0e0"),Object(b.a)(e,"fontSize","3em"),e)},n.state.project.title," "),o.a.createElement(E.a.Subtitle,{style:(t={fontSize:"1.2em",textShadow:"0px 1px 3px #454545"},Object(b.a)(t,"textShadow","0px 3px 7px #454545"),Object(b.a)(t,"textShadow","0px 5px 10px #e0e0e0"),Object(b.a)(t,"marginBottom",45),t)},n.state.project.shortDescription),o.a.createElement("div",{className:"container"},o.a.createElement(S.a,{style:{marginBottom:25}},o.a.createElement(S.a,{animated:!0,striped:!0,variant:"success",now:a,key:1})),o.a.createElement(i.b,{to:"/donate",variant:"outline-success",className:"button m-1"},"Donate")),o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement(E.a.Text,null,n.state.project.longDescription),o.a.createElement("p",null),o.a.createElement(_.a,{href:n.state.project.companyUrl,target:"_blank",className:"m-3",variant:"outline-dark"}," Company Website "),o.a.createElement(j.a,{url:window.location.href,size:32}),o.a.createElement(D.a,{size:32}),o.a.createElement("div",null))),o.a.createElement(f.a,null,o.a.createElement(w.a,{activeIndex:n.state.index,onSelect:n.handleSelect},n.state.recommended.map((function(e){return o.a.createElement(w.a.Item,null,o.a.createElement("img",{className:"d-block w-100",src:"/images/people-in-water.jpg",alt:"First slide"}),o.a.createElement(w.a.Caption,null,o.a.createElement("h3",null,e.title),o.a.createElement("p",null,e.shortDescription)))}))))))},console.log(e),n}return a}(o.a.Component),x=a(61),C=a(62),F=(a(82),a(44)),N=a(60),O=a.n(N),I=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.validateForm=function(){return e.state.length>0&&e.state.password.length>0},e.handleSubmit=function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),(n=new Request("/api/auth")).json({email:e.state.email,password:e.state.password}),fetch("/api/auth",n).then(function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:void 0!=(a=e.sent).token?(localStorage.setItem("token",a.token),n=JSON.parse(atob(a.token.split(".")[1])),localStorage.setItem("_id",n._id),localStorage.setItem("name",n.name),localStorage.setItem("email",n.email)):alert("Login failed!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert("Login failed!")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmitDummy=function(e){console.log("DEBUG: Using dummy tokens..."),localStorage.setItem("_id","DUMMY_ID12345"),localStorage.setItem("name","John Doe"),localStorage.setItem("email","john@doe.nut")},e.LoadingIndicator=function(e){return Object(F.usePromiseTracker)().promiseInProgress&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Hey some async call in progress ! "),o.a.createElement("div",{style:{width:"100%",height:"100",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(O.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"})))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return localStorage.getItem("name")?o.a.createElement(c.a,{to:"/"}):o.a.createElement("div",{className:"Login"},o.a.createElement("form",{onSubmit:this.handleSubmitDummy},o.a.createElement(x.a,{controlId:"email",bsSize:"large"},o.a.createElement("label",null,"Email"),o.a.createElement(C.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})),o.a.createElement(x.a,{controlId:"password",bsSize:"large"},o.a.createElement("label",null,"Password"),o.a.createElement(C.a,{value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},type:"password"})),o.a.createElement(_.a,{block:!0,bsSize:"large",disabled:!this.validateForm,type:"submit"},"Login")))}}]),a}(o.a.Component),G=a(63),A=function(){var e={textAlign:"left"};return G.map((function(t){return o.a.createElement("table",null,o.a.createElement("tr",null,o.a.createElement("td",{rowspan:"3"},o.a.createElement("img",{src:t.path,alt:""})),o.a.createElement("td",null,o.a.createElement("h3",{style:e},t.name))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("h5",{style:e},t.role))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("p",{style:e}," ",t.desc))),o.a.createElement("tr",null,o.a.createElement("hr",null)))}))},L=a(69),B=a(116),P=a(64),U=a(120),T=a(65);var R=function(){var e=o.a.useState(!1),t=Object(L.a)(e,2),a=t[0],n=t[1],r=function(e){document.getElementById("amount").style.visibility="hidden"};return localStorage.getItem("token"),o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{noValidate:!0,validated:a,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):alert("Thank you for donating! "),n(!0)}},o.a.createElement(f.a,null,o.a.createElement(B.a.Row,null,o.a.createElement(P.a,{style:{marginTop:"20%",marginBottom:"5%",textAlign:"center"}},o.a.createElement("h2",{style:{color:"#141114",fontWeight:"bold",fontSize:"4em",textShadow:"4px 4px 5px gray"}},"Donate Now"))),o.a.createElement("p",null),o.a.createElement(U.a,{type:"radio",name:"options",defaultValue:1},o.a.createElement(T.a,{variant:"outline-dark",id:"1",value:1,onChange:r},"$5"),o.a.createElement(T.a,{variant:"outline-dark",id:"2",value:2,onChange:r},"$10"),o.a.createElement(T.a,{variant:"outline-dark",id:"3",value:3,onChange:r},"$20"),o.a.createElement(T.a,{variant:"outline-dark",id:"4",value:4,onChange:r},"$50"),o.a.createElement(T.a,{variant:"outline-dark",id:"5",value:5,onChange:r},"$100"),o.a.createElement(T.a,{variant:"outline-dark",id:"6",value:6,onClick:function(e){document.getElementById("amount").style.visibility="visible"}},"Other")),o.a.createElement(B.a.Row,null,o.a.createElement(B.a.Group,{as:P.a,md:"12",controlId:"validationCustom03",style:{marginBottom:30}},o.a.createElement(B.a.Control,{id:"amount",style:{marginBottom:"5%",marginTop:"5%",visibility:"hidden"},type:"number",placeholder:"CAD $"}))),o.a.createElement(B.a.Group,null,o.a.createElement(B.a.Check,{required:!0,label:"Agree to Terms of Use",feedback:"You must agree before submitting."})),o.a.createElement(_.a,{variant:"success",size:"lg",type:"number submit"}," Donate "))))},z=a(31),M=a.n(z),q="AIzaSyAixXVA1zMyB8fb4O_PY5oZQw3N_ONAetQ",J=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={coords:{longitude:0,latitude:0},location:{country:"",postal_code:"",locality:"",sublocality:""}},e.load=function(){navigator.geolocation.getCurrentPosition((function(t){console.log("Latitude is :",t.coords.latitude),console.log("Longitude is :",t.coords.longitude);var a={country:"",postal_code:"",locality:"",sublocality:""};M.a.fromLatLng("".concat(e.state.coords.latitude),"".concat(e.state.coords.longitude),q).then((function(n){var o=n.results[0].formatted_address;console.log(o);for(var r=0;r<n.results[0].address_components.length;++r)for(var l=0;l<n.results[0].address_components[r].types.length;++l)"country"==n.results[0].address_components[r].types[l]?a.country=n.results[0].address_components[r].long_name:"postal_code"==n.results[0].address_components[r].types[l]?a.postal_code=n.results[0].address_components[r].long_name:"locality"==n.results[0].address_components[r].types[l]?a.locality=n.results[0].address_components[r].long_name:"sublocality"==n.results[0].address_components[r].types[l]&&(a.sublocality=n.results[0].address_components[r].long_name);e.setState({coords:t.coords,location:a})})).catch((function(e){console.error(e)}))}))},e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{onLoad:this.load},o.a.createElement("h4",null,"Using geolocation JavaScript API in React"),o.a.createElement("p",null,"Longitude: ",this.state.coords.longitude),o.a.createElement("p",null,"Latitude:  ",this.state.coords.latitude," "),o.a.createElement("p",null,"Country:   ",this.state.location.country," "),o.a.createElement("p",null,"loaclity:  ",this.state.location.locality," "))}}]),a}(o.a.Component);var $=function(){return o.a.createElement(o.a.Fragment,null)},V=a(118),H=a(117);a(106),a(107),a(108);var Y=function(){var e=Object(c.g)(),t=function(){localStorage.removeItem("_id"),localStorage.removeItem("name"),localStorage.removeItem("email"),e.push("/")},a=function(e){var t=localStorage.getItem("name");return!!t&&o.a.createElement(V.a.Text,{style:{color:"#ffffff",marginRight:"1em"}},"Hello, ",t,"!")},n=function(e){return localStorage.getItem("name")?o.a.createElement(_.a,{variant:"outline-danger",type:"submit",onClick:t},"Logout"):o.a.createElement(i.b,{to:"/login"},o.a.createElement(_.a,{variant:"outline-success"},"Login"))};return o.a.createElement("div",{className:"App"},o.a.createElement(i.a,null,o.a.createElement("div",{style:{paddingBottom:"10px"}},o.a.createElement(V.a,{bg:"dark",expand:"lg"},o.a.createElement(V.a.Brand,{href:"#home"},o.a.createElement(i.b,{to:"/",style:{color:"white",underline:"none"}},"CoviDonate")),o.a.createElement(V.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(V.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(H.a,null,o.a.createElement(i.b,{to:"/map"},"Map")),o.a.createElement(H.a,{className:"ml-auto"},o.a.createElement(a,null),o.a.createElement(B.a,null,o.a.createElement(n,null)))))),o.a.createElement(c.d,null,o.a.createElement(c.b,{path:"/project/:id",component:k}),o.a.createElement(c.b,{path:"/about-us",component:A}),o.a.createElement(c.b,{path:"/donate",component:R}),o.a.createElement(c.b,{path:"/map",component:J}),o.a.createElement(c.b,{path:"/city",component:$}),o.a.createElement(c.b,{path:"/login",component:I}),o.a.createElement(c.b,{path:"/",component:v}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));M.a.setApiKey("AIzaSyD3wcZvoR5pytYB-LNnPb0XhBO_CMi0wBE"),M.a.setLanguage("en"),l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e){e.exports=JSON.parse('[{"_id":"5ed177e4859e1259c9ebdb04","title":"A","shortDescription":"A_Short_Description","longDescription":"A_long_Description","image":"","companyName":"A_Company_Name","companyUrl":"","finance":{"donatedSoFar":5,"donationGoals":5000},"tags":["keywords"]},{"id":"2","title":"B","shortDescription":"B_Short_Description","longDescription":"B_Long_Descripton","image":"","companyName":"","companyUrl":"","finance":{"donatedSoFar":100,"donationGoals":1000},"tags":["keywords"]},{"id":"3","title":"C","shortDescription":"C_Short_Description","longDescription":"C_long_Description","image":"","companyName":"C_Company_Name","companyUrl":"","finance":{"donatedSoFar":1,"donationGoals":10},"tags":["keywords"]},{"id":"4","title":"D","shortDescription":"D_Short_Description","longDescription":"D_long_Description","image":"","companyName":"D_Company_Name","companyUrl":"","finance":{"donatedSoFar":108,"donationGoals":1000},"tags":["keywords"]},{"id":"5","title":"E","shortDescription":"E_Short_Description","longDescription":"E_long_Description","image":"","companyName":"E_Company_Name","companyUrl":"","finance":{"donatedSoFar":2000,"donationGoals":50000},"tags":["keywords"]},{"id":"6","title":"F","shortDescription":"F_Short_Description","longDescription":"F_long_Description","image":"","companyName":"F_Company_Name","companyUrl":"","finance":{"donatedSoFar":600,"donationGoals":9000},"tags":["keywords"]},{"id":"7","title":"G","shortDescription":"F_Short_Description","longDescription":"F_long_Description","image":"","companyName":"F_Company_Name","companyUrl":"","finance":{"donatedSoFar":300,"donationGoals":3000},"tags":["keywords"]},{"id":"8","title":"H","shortDescription":"F_Short_Description","longDescription":"F_long_Description","image":"","companyName":"F_Company_Name","companyUrl":"","finance":{"donatedSoFar":405,"donationGoals":6000},"tags":["keywords"]},{"id":"9","title":"I","shortDescription":"F_Short_Description","longDescription":"F_long_Description","image":"","companyName":"F_Company_Name","companyUrl":"","finance":{"donatedSoFar":700,"donationGoals":7000},"tags":["keywords"]}]')},63:function(e){e.exports=JSON.parse('[{"name":"Devam Sisodraker","role":"Project Lead","desc":"About yourself","path":"/headshots/devam.jpg"},{"name":"Vishal Desh","role":"Assistant Project Lead","desc":"About yourself","path":"/headshots/vishal.jpg"},{"name":"Noah Caleanu","role":"Lead Heartthrob","desc":"About yourself","path":"/headshots/noah.jpg"},{"name":"Thomas Richmond","role":"Last Minute Developer","desc":"About yourself","path":"/headshots/thomas.jpg"}]')},71:function(e,t,a){e.exports=a(109)},76:function(e,t,a){},82:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.4444e475.chunk.js.map